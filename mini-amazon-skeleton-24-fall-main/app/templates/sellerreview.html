{% extends "base.html" %}

{% block content %}

<br><br>
<form method="GET" action="">
    <div class="form-group">
        <label for="seller_id">Filter by Seller ID:</label>
        <input type="text" class="form-control" id="seller_id" name="seller_id" placeholder="Enter Seller ID"
            value="{{ request.args.get('seller_id', '') }}">
    </div>
    <button type="submit" class="btn btn-primary">Filter</button>
    <a href="{{ url_for('sellerreviewpage.sellerreview') }}" class="btn btn-secondary">Clear Filter</a>
</form>

<h2>Your Reviews of Sellers:</h2>
<table class='table table-hover table-bordered container'>
    <thead class="thead-dark">
        <tr>
            <th scope="col">Seller ID</th>
            <th scope="col">Review Score</th>
            <th scope="col">When Added</th>
        </tr>
    </thead>
    <tbody>
        {% for review in sreviews%}
        <tr>
            <td>{{review.sid}}</td>
            <td>{{review.rscore}}</td>
            <td>{{humanize_time(item.time_added)}}</td>
        </tr>
        {% endfor %}
    </tbody>
</table>

{% if current_user.is_authenticated %}
<br><br>
<form action="" method="post">
    {{ form.hidden_tag() }}
    <p>
        {{ form.rscore.label }}<br />
        {{ form.rscore(size=32) }}<br />
        {% for error in form.rscore.errors %}
        <span style="color: red;">[{{ error }}]</span>
        {% endfor %}
    </p>
    <p>{{ form.submit() }}</p>
</form>
{% else %}
<p><a href="{{ url_for('users.login') }}">Log in</a> to see your review history!</p>
{% endif %}

{% endblock %}